#
# This file is generated by Chef
# Do not edit, changes will be overwritten
#
LoadPlugin java
<% if !@config.empty? %>
<Plugin "java">
  JVMARG "-verbose:jni"
  JVMARG "-Djava.class.path=/usr/share/collectd/java/collectd-api.jar:/usr/share/collectd/java/generic-jmx.jar"
  LoadPlugin "org.collectd.java.GenericJMX"
  <Plugin "GenericJMX">
    <% @config["mbeans"].each_pair do |bean, bconf| %>
    <MBean "<%= bean %>">
      <% %w(ObjectName InstancePrefix InstanceFrom).each do |n| -%>
	<% if bconf[n] -%>
	<%= n %> <%= collectd_option(bconf[n]) %>
	<% end %>
      <% end -%>
      <% bconf["values"].each do |val| %>
	<Value>
	  <% val.each_pair do |key, value| %>
	    <%= key %> <%= collectd_option(value) %>
	  <% end %>
	</Value>
      <% end %>
    </MBean>
    <% end %>
    <Connection>
      <% @config["connection"].each_pair do |key, value|
	if value.is_a? Array
	  value.each do |subvalue| %>
      <%= key %> <%= collectd_option(subvalue) %>
      <% end else %>
      <% if @noquote %>
      <%= key %> <%= value %>
      <% else %>
      <%= key %> <%= collectd_option(value) %>
      <% end %>
      <% end end %>
    </Connection>
  </Plugin>
</Plugin>
<% end %>
